function formatter(a){var b=a.data;if(!b)return null;var c=[];for(var d in b){var e=d,f=b[d],g={};g.name=e;var h=[];$.each(f,function(a,b){if(b.value){var c={};c.y=parseFloat(b.value),c.x=parseInt(b._collectDate_),h.push(c)}}),g.data=h,c.push(g)}return c}var Ractive=require("ractive"),__options__={template:{v:3,t:[{p:[1,1,0],t:7,e:"div",a:{"class":"dashboard"},f:[{p:[2,2,25],t:7,e:"div",a:{"class":"clearfix"},f:[{p:[3,3,50],t:7,e:"span",a:{"class":"pull-left"},f:[{p:[4,4,78],t:7,e:"button",a:{"class":"btn btn-primary btn-xl"},v:{click:"popUp"},f:[{p:[4,60,134],t:7,e:"i",a:{"class":"glyphicon glyphicon-signal"}}]}]}," ",{p:[6,3,198],t:7,e:"span",a:{"class":"pull-right"},f:[{p:[7,12,235],t:7,e:"div",a:{"class":"dropdown mr10",style:"display: inline"},f:[{p:[8,20,306],t:7,e:"button",a:{"class":"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-expanded":"true"},f:["选择 ",{p:[10,21,479],t:7,e:"span",a:{"class":"caret"}}]}," ",{p:[12,21,557],t:7,e:"ul",a:{"class":"dropdown-menu",role:"menu","aria-labelledby":"dropdownMenu1"},f:[{t:4,f:[{p:[14,25,692],t:7,e:"li",a:{role:"presentation"},f:[{p:[15,26,742],t:7,e:"a",a:{role:"menuitem",tabindex:"-1",href:"#"},v:{click:{n:"changeUrl",d:[{t:2,r:"url",p:[15,79,795]}]}},f:[{t:2,r:"name",p:[15,97,813]}]}]}],r:"dropdownLinks",p:[13,22,649]}]}]}," ",{p:[19,13,929],t:7,e:"button",a:{"class":"btn btn-primary btn-xl mr5"},f:["统计"]}]}]}," ",{p:[22,2,1003],t:7,e:"div",a:{id:[{t:2,r:"chartWrap",p:[22,11,1012]}]}}]}]}},component={},__prop__,__export__,chart;if(component.exports={oninit:function(){this.on("loadChart",function(){var a=this,b=a.get("ajax");a.get("ajax").url&&$.ajax({url:b.url,type:b.type?b.type:"GET",dataType:b.dataType?b.dataType:"json",data:b.data}).done(function(b){if(b.success)if(chart){var c=formatter(b);$.each(c,function(a,b){a<chart.series.length?chart.series[a].update(b):chart.addSeries(b)}),chart.series=formatter(b)}else{var d=a.get("chartWrap");chart=new CLineChart(d,{series:formatter(b)},!0)}})}),this.on("changeUrl",function(a,b){event.original.preventDefault(),console.log(b)}),this.on("popUp",function(){})},oncomplete:function(){var a=this;a.fire("loadChart")},data:function(){return{dropdownLinks:[],displayOptions:[{value:1,text:"1小时"},{value:3,text:"3小时"},{value:6,text:"6小时"},{value:12,text:"12小时"},{value:24,text:"1天"},{value:168,text:"7天"},{value:720,text:"30天"},{value:"my",text:"自定义"}],ajax:{url:"",type:"",dataType:"",data:""},chartWrap:""}}},"object"==typeof component.exports)for(__prop__ in component.exports)component.exports.hasOwnProperty(__prop__)&&(__options__[__prop__]=component.exports[__prop__]);__export__=Ractive.extend(__options__),module.exports=__export__;